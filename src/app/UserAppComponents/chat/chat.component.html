<div class="chat-con">
    <div class="chat-head">
        <div class="chat-heading" (click)="openEditChannel = true"><span>#</span>{{ groupName }}<div class="arrowimg">
            </div>
        </div>
        <div class="users-con">
            <div class="users" (click)="openShowUserPopUp()">
                <img class="avat" *ngFor="let avat of avatImg" src="{{ avat }}">
                <div>{{ avatLength }}</div>
            </div>
            <div class="add" (click)="openAddUserPopUp()"></div>
        </div>
    </div>
    <div class="chat" #chatContainer>
        <div *ngFor="let group of messageGroups">
            <div class="date">
                <div class="date-label">{{ group.label }}</div>
            </div>
            <div *ngFor="let message of group.messages" class="message"
                [ngClass]="{'message-you': messageSendFrom(message.sender_id)}">
                <div class="reactions">
                    <div class="reaction emoji"></div>
                    <div class="reaction answer"></div>
                    <div class="reaction option" (click)="editMessagePopUp = !editMessagePopUp"
                        *ngIf="messageSendFrom(message.sender_id)"></div>
                    <div class="edit-message-popup" (click)="openEditText(message)"
                        *ngIf="editMessagePopUp && messageSendFrom(message.sender_id)">Nachricht bearbeiten</div>
                </div>
                <div class="avatar"><img src="{{ message.avatar }}" alt="avatar"></div>
                <div class="message-content" [ngClass]="{'message-content-you': messageSendFrom(message.sender_id)}">
                    <div class="name-time" [ngClass]="{'name-time-you': messageSendFrom(message.sender_id)}">
                        <div class="name" (click)="openUserProfile(message.sender_id)">{{ message.name }}</div>
                        <div class="time"> {{ message.time }}</div>
                        <div class="time" *ngIf="message.edit">(Bearbeitet)</div>
                    </div>
                    <div class="msg" [ngClass]="{'msg-you': messageSendFrom(message.sender_id)}">{{message.text}}
                    </div>
                </div>
            </div>
        </div>
        <div class="startChat-con">
            <div class="name"># {{ groupName }}</div>
            <div class="start-text" *ngIf="uid == createbyId">Du hast diesen Channel heute erstellt. Das ist der Anfang
                des Channels.</div>
            <div class="start-text" *ngIf="uid != createbyId">{{ createby }} hat diesen Channel {{ createAt }} erstellt.
                Das ist der Anfang des Channels.</div>
        </div>
    </div>
    <div class="input-chat" *ngIf="!editTextArea">
        <textarea type="text" placeholder="Nachricht an #{{ groupName }}" [(ngModel)]="message"></textarea>
        <div class="chat-icons">
            <div class="left-icons"></div>
            <div class="send-icon" (click)="sendMessage()"></div>
        </div>
    </div>

    <div class="error" *ngIf="errorEdit">Die Nachricht darf nicht Leer sein.</div>
    <div class="input-chat" *ngIf="editTextArea">
        <textarea type="text" placeholder="Nachricht an Bearbeiten" [(ngModel)]="editMessageText"></textarea>
        <div class="buttons">
            <div class="btn btn2" (click)="editTextArea = false">Schlie√üen</div>
            <div class="btn" (click)="sendEditMessage()">Speichern</div>
        </div>
    </div>

    <div class="edit-popup" *ngIf="openEditChannel">
        <app-edit-channel></app-edit-channel>
    </div>
    <div class="edit-popup" *ngIf="openAddUserPop">
        <app-add-users-pop-up [addUsers]="addUser" [showUsers]="showUser"></app-add-users-pop-up>
    </div>
</div>