<div class="chat-con">
    <div class="chat-head">
        <div class="chat-heading" (click)="openUserProfile(otherUser)"><img src="{{ avatarChat }}" alt=""><div>{{ nameChat }}
        <span *ngIf="notes">(Du)</span></div></div>
        <div class="back" (click)="closeChat()">zurück</div>
        <div class="users-con"></div>
    </div>
    <div class="chat" #chatContainer>
        <div class="startChat-con">
            <div class="start-head">
                <img src="{{ avatarChat }}" alt="avatar">
                <div class="name">{{ nameChat }}</div>
            </div>
            <div class="start-text" *ngIf="notes"><span class="note">Dieser Raum ist nur für dich da.</span> Mache dir Notizen, liste deine To-dos auf oder bewahre Links und Dateien griffbereit auf. Du kannst hier auch gerne Dinge mit dir selbst besprechen.</div>
            <div class="start-text" *ngIf="!notes">Diese Unterhaltung findet nur zwischen <span (click)="openUserProfile(otherUser)" class="name">{{'@'}}{{ nameChat }}</span> und dir statt.</div>
        </div>
        <div *ngFor="let group of messageGroups">
            <div class="date">
                <div class="date-label">{{ group.label }}</div>
            </div>
            <div *ngFor="let message of group.messages" class="message"
                [ngClass]="{'message-you': messageSendFrom(message.sender_id)}">
                <div class="avatar"><img src="{{ message.avatar }}" alt=""></div>
                <div class="message-content" [ngClass]="{'message-content-you': messageSendFrom(message.sender_id)}">
                    <div class="name-time" [ngClass]="{'name-time-you': messageSendFrom(message.sender_id)}">
                        <div class="name" (click)="!messageSendFrom(message.sender_id) ? openUserProfile(otherUser) : openUserProfile(uid)">{{ message.name }}</div>
                        <div class="time"> {{ message.time }}</div>
                    </div>
                    <div class="msg" [ngClass]="{'msg-you': messageSendFrom(message.sender_id)}">{{message.text}}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="input-chat">
        <textarea type="text" placeholder="Nachricht an {{ nameChat }}" [(ngModel)]="message"></textarea>
        <div class="chat-icons">
            <div class="left-icons"></div>
            <div class="send-icon" (click)="sendMessage()"></div>
        </div>
    </div>
</div>